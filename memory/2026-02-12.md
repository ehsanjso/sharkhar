# 2026-02-12 — Komod AI Mobile UX Overhaul

## Major Work Done

### Design Research & Patterns
- Saved Airbnb UX patterns to `/projects/komod-ai/docs/DESIGN_PATTERNS.md`
- Analyzed Whering app on Mobbin (wardrobe app competitor)
- Mapped patterns: onboarding, wardrobe grid, item detail, profile

### Mobile App Improvements (via sub-agents)
1. **Wardrobe cards** — Added favorite heart overlay + quick actions (long-press menu)
2. **Item detail** — Sticky CTA bar at bottom with gradient blur effect
3. **Onboarding** — 3-screen value-first flow (fixed Next button twice: `getItemLayout` then `scrollToOffset`)
4. **Completion animations** — Worn (checkmark), washed (water droplets), favorite (heart pulse + particles)
5. **UI audit** — Removed duplicate "Wardrobe" header, fixed spacing across all screens

### PWA Support Added
- `public/manifest.json` — App name, icons, theme colors
- `public/sw.js` — Service worker for offline caching
- Updated `+html.tsx` with PWA meta tags + service worker registration

### Commits Pushed to dev
- `feat(wardrobe): add quick actions and favorite heart to cards`
- `feat(item-detail): add sticky CTA bar with gradient blur`
- `feat(animations): add favorite heart animation with particle burst`
- `fix(onboarding): use scrollToOffset and manual state update`
- `fix(mobile): resolve UI spacing and duplicate header issues`
- `feat(web): add PWA support with manifest and service worker`

## Technical Notes
- Expo dev server runs on port 3002: `npx expo start --web --port 3002 --host lan`
- Cloudflared quick tunnels are unstable — disconnect frequently
- Pi struggles with `npx expo export -p web` (gets OOM killed at ~88%)
- For testing external access, use cloudflared but verify before sharing

## Current State
- All changes on `dev` branch, pushed to GitHub
- 20+ commits ahead of origin
- Mobile app accessible at `192.168.0.217:3002` (local) or via cloudflared tunnel

## 02:00 PM — Daily Research: Expo EAS Build & OTA Updates

**Topic selected:** Expo EAS Build + EAS Update for cloud builds and over-the-air updates

**Why this topic:**
- Directly addresses the OOM issue discovered today ("Pi struggles with expo export, gets OOM killed at 88%")
- Natural next step for Komod AI: from dev server to actual device builds
- Enables proper testing workflow without Pi memory constraints

**Key discoveries:**
1. **EAS Build** — Cloud builds bypass Pi entirely; just upload code, receive binary
2. **Free tier generous** — 30 builds/month, 1,000 update MAUs included
3. **Internal distribution** — Share builds via URL, no Play Store needed for testing
4. **EAS Update** — Push JS/asset changes OTA in minutes without app store review
5. **eas.json profiles** — development (debug), preview (internal testing), production (store)

**Quick start:**
```bash
npm install -g eas-cli && eas login
cd /projects/komod-ai && eas build:configure
eas build --platform android --profile preview
```

**Workflow shift:**
- Before: Pi tries to build → OOM → stuck
- After: Pi uploads code → EAS builds in cloud → URL to install on device

**Research saved:** `memory/research/2026-02-12-expo-eas-build-ota-updates.md`
